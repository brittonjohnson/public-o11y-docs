.. _trace-analyzer:

****************************************
Explore your traces using Trace Analyzer
****************************************

.. meta::
   :description: Use Trace Analyzer inside Splunk APM to detect patterns across billions of transactions to identify “unknown unknowns” problems across any combinations of tags, services, and users in your environment.

Trace Analyzer lets you search traces generated by your application and identify patterns in the full-fidelity trace data without prior knowledge of which tags are relevant. 

Trace Analyzer is available to all Splunk Observability Cloud Splunk APM users. 

Examples of questions that Trace Analyzer helps you answer include:

-  How many traces and traces with errors exist for a given combination of service, environment, and tags?
-  For a given issue, which customers experience the highest error rate?
-  How to locate error spikes in my trace data?

To open Trace Analyzer, select :guilabel:`Traces` in Splunk APM and select :guilabel:`Switch to Trace Analyzer`. To switch back to the classic Traces view, select :guilabel:`Switch to Classic View`. See :ref:`trace-search` for more info about the classic Traces view.

Filter and search
====================

To explore your trace data, use the following controls:

..  image:: /_images/apm/trace-analyzer/TraceAnalyzerControls.png
    :width: 95%
    :alt: Elements of the Trace Analyzer user interface

#. Filters for time range, environment, workflow, services, and tags.
#. Minimum and maximum trace duration and trace search by ID.
#. Real time chart of traces with total and errors.
#. Table view of traces and group metrics with tag grouping. 

Trace Analyzer searches all currently retained traces; see :ref:`apm-data-retention` to learn more about the default trace retention period.

Trace Analyzer shows total traces and traces with errors in a stacked bars chart. Select and drag over the bars in the chart to select a specific period within the available time frame. Select :guilabel:`Filter to selection` to update the time range filter.

..  image:: /_images/apm/trace-analyzer/TraceDragDropChart.gif
    :width: 95%
    :alt: Selection of a specific time frame

Group by tag
-------------------------------

You can group all available traces by a single tag or attribute. For example, you can group all traces from your service by database table, host name, or HTTP status code.

..  image:: /_images/apm/trace-analyzer/TraceSelectTag.png
    :width: 95%
    :alt: Tag selection menu of Trace Analyzer

The resulting :guilabel:`Group Metrics` tab shows a breakdown of the top 100 values for the selected tag, ranked by the number of errors.


..  image:: /_images/apm/trace-analyzer/MetricTables.png
    :width: 95%
    :alt: Metric table in Trace analyzer

You can order both tables by the number of matching traces.

When to use Trace Analyzer
=============================================

Splunk Observability Cloud provides several tools for exploring application monitoring data. Trace Analyzer is suited to scenarios where high cardinality, high granularity searches and explorations are required for researching unknown or new issues. See :ref:`guideline-cardinality`.

The following table presents what each APM tool is best suited for:

.. list-table::
   :header-rows: 1
   :widths: 33 33 33
   :width: 100

   * - Trace Analyzer
     - Tag Spotlight / Service map
     - Monitoring MetricSets
   
   * - Identify patterns for unindexed tags
     - Surface trends for indexed tags
     - Get alerts on service degradation

   * - Trace-level analysis
     - Service-level analysis
     - Workflow and service level analysis

   * - High cardinality
     - Medium cardinality
     - Low cardinality

Trace Analyzer trace limits
==================================

Trace Analyzer can search a maximum of six hours of data. 

Within the Trace Analyzer interface, there are three different display limits. The Trace Analyzer chart (1) and the Group Metrics (2) tab display up to six hours of traces. The list of traces displayed on the Traces tab (3) has a limit of 1,000 traces. For the Traces tab, Trace Analyzer searches for traces at the end of the time window you select. When 1,000 traces are matched or the six-hour search window is reached, the list stops populating.

..  image:: /_images/apm/trace-analyzer/TraceAnalyzerLimit.png
    :width: 95%
    :alt: Trace limit in trace list


Learn more
=====================

See the following links for more information on Trace Analyzer: 

* :ref:`apm-scenario-trace-analyzer`